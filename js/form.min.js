class FormHandler{constructor(){this.forms=[],this.init()}init(){document.querySelectorAll("form").forEach(e=>this.registerForm(e)),this.setFormspreeAction()}registerForm(e){this.forms.push(e),e.action&&e.action.includes("formspree")||(e.addEventListener("submit",t=>this.handleSubmit(t,e)))}setFormspreeAction(){const e=document.getElementById("contactForm");e&&(e.action="https://formspree.io/f/mnjjgnpz",e.method="POST")}handleSubmit(e,t){e.preventDefault(),this.validateForm(t)?this.showLoading(t):this.showSuccess(t)}validateForm(e){let t=!0;return e.querySelectorAll("[required]").forEach(e=>{this.validateField(e)||t&&(t=!1,this.showFieldError(e))}),t}validateField(e){const t=e.value.trim(),n=e.type,i=e.name;return t||(e.dataset.error="This field is required",!1),"email"===n&&(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)||(e.dataset.error="Please enter a valid email",!1)),"tel"===n&&t&&(!/^\d{10,}$/.test(t.replace(/\D/g,""))&&(e.dataset.error="Please enter a valid phone number",!1)),e.minLength&&t.length<e.minLength&&(e.dataset.error=`Minimum ${e.minLength} characters required`,!1),t}showFieldError(e){e.style.borderColor="#f44336",e.style.boxShadow="0 0 10px rgba(244, 67, 54, 0.2)",e.nextElementSibling?.classList.contains("field-error")||(e.parentNode.insertBefore((t=document.createElement("small")).className="field-error",t.style.color="#f44336",t.style.display="block",t.style.marginTop="5px",t.textContent=e.dataset.error,e.nextSibling))}clearFieldError(e){e.style.borderColor="#e0e0e0",e.style.boxShadow="none";const t=e.nextElementSibling;t?.classList.contains("field-error")&&t.remove()}showLoading(e){const t=e.querySelector('button[type="submit"]');t&&(t.disabled=!0,t.innerHTML='<span style="display: inline-block; animation: spin 1s linear infinite;">⏳</span> Sending...')}showSuccess(e){const t=e.querySelector('button[type="submit"]');t&&(t.disabled=!1,t.innerHTML="✓ Message Sent!",t.style.background="#4CAF50",setTimeout(()=>{t.innerHTML="Send Message",t.style.background=""},3e3))}}
class InputHandler{static init(){document.querySelectorAll("input, textarea").forEach(e=>{e.addEventListener("focus",e=>InputHandler.onFocus(e)),e.addEventListener("blur",e=>InputHandler.onBlur(e)),e.addEventListener("input",e=>InputHandler.onInput(e))})}static onFocus(e){e.target.style.transition="all 0.3s ease",e.target.style.borderColor="#D4AF37",e.target.style.boxShadow="0 0 10px rgba(212, 175, 55, 0.3)",e.target.parentElement?.classList.add("focused")}static onBlur(e){e.target.style.borderColor="#e0e0e0",e.target.style.boxShadow="none",e.target.parentElement?.classList.remove("focused")}static onInput(e){const t=e.target.value;e.target.style.borderColor="#f44336"===e.target.style.borderColor&&(e.target.style.borderColor="#e0e0e0"),"TEXTAREA"===e.target.tagName&&e.target.maxLength&&(t.length/e.target.maxLength*100>80&&(e.target.style.borderColor="#D4AF37"))}}
document.addEventListener("DOMContentLoaded",(()=>{new FormHandler,InputHandler.init(),console.log("%c✓ Form handlers initialized","color: #4CAF50; font-weight: bold;")})),typeof module<"u"&&module.exports&&module.exports={FormHandler,InputHandler};
